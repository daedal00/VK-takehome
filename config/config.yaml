# Async Data Pipeline Configuration
# Override precedence: CLI flags > Environment variables > This file

# Rate Limiting (Requirement 1.3, 2.1)
max_requests_per_second: 5
rate_limit_tokens: 5
rate_limit_refill_interval: 1.0
rate_limit_retry_sleep: 0.05

# Retry Policy (Requirement 2.1, 2.3, 2.5)
max_retries: 3
retry_base_delay: 0.5
retry_max_delay: 4.0
retry_jitter_max: 0.5
retryable_status_codes:
  - 429
  - 502
  - 503
  - 504

# HTTP Timeouts (Requirement 7.2, 13.1)
connect_timeout: 3.0
read_timeout: 8.0

# Circuit Breaker (Requirement 2.2, 13.4)
circuit_breaker_failure_threshold: 3
circuit_breaker_cooldown: 15.0

# Data Processing (Requirement 3.2, 3.5)
worker_pool_size: 4
processing_batch_size: 50
bounded_queue_size: 100

# Pipeline Constraints (Requirement 1.4, 4.1)
total_timeout: 60.0

# Mock Server Configuration (Requirement 9.1, 9.2, 9.5)
mock_server_ports:
  - 8001
  - 8002
  - 8003
mock_server_items_per_page: 20
mock_server_min_pages: 7
mock_server_error_rate: 0.0

# Logging (Requirement 4.2, 13.4)
log_level: INFO
structured_logging: true

# Output (Requirement 8.1, 8.4)
output_directory: out
output_filename: summary.json

# Endpoint Configuration
endpoints:
  - name: api1
    url: http://localhost:8001/products
  - name: api2
    url: http://localhost:8002/products
  - name: api3
    url: http://localhost:8003/products
